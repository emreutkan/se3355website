<div class="movie-card" [routerLink]="['/movie', movie.id]">
  <div class="movie-poster">
    <img
      [src]="getPosterUrl()"
      [alt]="movie.title + ' poster'"
      [title]="movie.title"
      class="poster-img"
      (error)="onImageError($event)"
      loading="lazy">

    <!-- Rating Badge -->
    <div class="rating-badge" *ngIf="movie.imdb_score">
      <svg class="star-icon" width="12" height="12" viewBox="0 0 24 24">
        <path fill="#f5c518" d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
      </svg>
      <span class="rating-text">{{ getFormattedRating() }}</span>
    </div>

    <!-- Watchlist Button -->
    <button class="watchlist-btn"
            (click)="onWatchlistClick($event)"
            [title]="'Add to Watchlist'"
            [attr.aria-label]="'Add ' + movie.title + ' to watchlist'">
      <svg width="16" height="16" viewBox="0 0 24 24">
        <path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
      </svg>
    </button>
  </div>

  <div class="movie-info">
    <h3 class="movie-title" [title]="movie.title">{{ movie.title }}</h3>
    <div class="movie-meta">
      <span class="movie-year">{{ movie.year }}</span>
      <span class="movie-runtime" *ngIf="movie.runtime_min">{{ formatRuntime(movie.runtime_min) }}</span>
    </div>
    <div class="movie-rating" *ngIf="movie.imdb_score">
      <span class="rating-star">‚≠ê</span>
      <span class="rating-value">{{ getFormattedRating() }}</span>
      <span class="rating-votes" *ngIf="movie.rating_count">({{ formatVotes(movie.rating_count) }})</span>
    </div>
  </div>
</div>
